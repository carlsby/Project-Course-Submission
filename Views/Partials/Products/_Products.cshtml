@model ProductIndexViewModel

<section class="product-page">
    <div class="container">
        <h1>@Model.Title</h1>

        <div class="product-grid">
            @foreach (var category in Model.Categories)
            {
                <div class="category">
                    <h3>@category.CategoryName</h3>
                    <div class="products">
                        @foreach (var product in Model.Products!.Where(p => p.Categories.Any(c => c.Category.CategoryName == category.CategoryName)))
                        {
                            <a asp-action="details" asp-route-articleNumber="@product.ArticleNumber">
                                <div class="product-item">
                                    <div id="icon-container">
                                        <img src="~/images/270x295.svg" alt="Product Image">
                                        <i class="add-cart fa-regular fa-cart-plus"></i>
                                        <i class="fa-regular fa-heart" id="heart-icon"></i>
                                    </div>
                                    <div class="product-container">
                                        <h5 class="product-title">@product.ProductName</h5>
                                        <div class="product-price">@product.Price.ToString("0:-")</div>
                                    </div>
                                    <div class="star-container">
                                        <span class="star"><i class="fa-solid fa-star" id="star-icon"></i></span>
                                        <span class="star"><i class="fa-solid fa-star" id="star-icon"></i></span>
                                        <span class="star"><i class="fa-solid fa-star" id="star-icon"></i></span>
                                        <span class="star"><i class="fa-solid fa-star" id="star-icon"></i></span>
                                        <span class="star"><i class="fa-solid fa-star" id="star-icon"></i></span>
                                    </div>
                                </div>
                            </a>
                        }
                    </div>
                </div>
            }
        </div>
    </div>
</section>

